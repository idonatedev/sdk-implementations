<html lang="en">
    <meta charset="utf-8">
    <head>
        <!--*
            IDONATE SDK SHOPPING CART
            Benjamin Guthrie
            
            An interface for users to make impact-centric donations using a shopping cart style method.
            A single transaction with multiple designations will be passed to the API.
            Checkout will be completed via the one-page form from previous SDK implementations.

            TODO:
                ~ Create Form Div
                ~ Validation for Form
                ~ Wrap form
                ~ DPF Logic
                ~ Update Data
                ~ Checkout Area
                ~ API Call
                ~ Receipt Page
                - Styling
        *-->
        <!--stylesheet-->
        <link rel="stylesheet" href="css/shopping-cart.css">
        <!--shopping cart functions-->
        <script src="js/shopping-cart.js"></script>
        <!--idonate sdk req's-->
        <script src="https://www.google.com/recaptcha/api.js" async defer></script>
        <script src="https://unpkg.com/@idonatedev/idonate-sdk@1.0.0"></script>
        <!--jquery-->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <!--font-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;400;500;600;700&display=swap" rel="stylesheet">
        <!--config-->
        <script src="js/initial-config-sc.js"></script>
        <!--recaptcha callback-->
        <script src="js/recaptcha-callback-sc.js"></script>
        <!--validators-->
        <script src="js/validators.js"></script>
        <!--form wrapper-->
        <script src="js/form-wrapper.js"></script>
        <!--update data-->
        <script src="js/update-data-sc.js"></script>
        <script>
            /* wrap form to pass to grecaptcha springboard function */
            document.addEventListener('DOMContentLoaded', function(){
                wrapForm('form-data',updateData);
            });
        </script>
    </head>
    <body>
        <!--grecaptcha using google's test key.  test organization has secret key already configured.  in production, the keys will be configured via the recaptcha admin account, with the secret key configured on the back-end of the client's database.-->
        <div class="g-recaptcha" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI" data-callback="recaptchaCallback" data-size="invisible"></div>
        <div id="instance-container">
            <!--MAIN INTERFACE-->
            <div class="main-area-g-1">
                <div class="main-header">
                    <div class="header-text">
                        <h2 class="header-text-proper">Change a life today.</h2>
                    </div>
                    <div class="logo">
                        <img src="img/chf.png" class="logo-proper">
                    </div>
                </div>
                <div class="main-area-g-2">
                    <div class="items-area">
                        <!--items-->
                        <!--item 1-->
                        <div class="item-container" designation-id="6f345cfb-2d6b-42f8-a5b8-ea6940b80dc5" desc="Bicycle" id="item-1" price="40">
                            <div class="item-g-1">
                                <div class="top-part">
                                    <div class="item-image-area">
                                        <div class="item-image">
                                            <img src="img/bike.jpeg" class="item-image-proper">
                                            <h3>Bicycle</h3>
                                        </div>
                                    </div>
                                    <div class="item-desc-area">
                                        <div class="item-price">
                                            <h3 class="item-price-proper">$40</h3>
                                        </div>
                                        <div class="item-desc">
                                            <p class="item-desc-proper">
                                                Mobility changes everything.  A bicycle can make the difference in the ability to go to school, find a job, and find food.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="lower-part">
                                    <button type="button" class="add-item-button" onclick="createSummaryFromId('item-1')">Add Item</button>
                                </div>
                            </div>
                        </div><!--end item 1-->

                         <!--item 2-->
                         <div class="item-container" designation-id="4b561440-34de-472b-a068-79a9590ba79d" desc="Water Filter" id="item-2" price="20">
                            <div class="item-g-1">
                                <div class="top-part">
                                    <div class="item-image-area">
                                        <div class="item-image">
                                            <img src="img/water-filter.jpeg" class="item-image-proper">
                                            <h3>Water Filter</h3>
                                        </div>
                                    </div>
                                    <div class="item-desc-area">
                                        <div class="item-price">
                                            <h3 class="item-price-proper">$20</h3>
                                        </div>
                                        <div class="item-desc">
                                            <p class="item-desc-proper">
                                                Access to clean water is paramount to living a healthy life.  A water filter will protect a family from a lithany of waterborne diseases and industrial by-products.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="lower-part" id="add-item-2">
                                    <button type="button" class="add-item-button" onclick="createSummaryFromId('item-2')">Add Item</button>
                                </div>
                            </div>
                        </div><!--end item 2-->

                         <!--item 3-->
                         <div class="item-container" designation-id="e5fe812e-e65f-47ea-9910-a522c9d38378" desc="Goat" id="item-3" price="100">
                            <div class="item-g-1">
                                <div class="top-part">
                                    <div class="item-image-area">
                                        <div class="item-image">
                                            <img src="img/goat.jpeg" class="item-image-proper">
                                            <h3>Goat</h3>
                                        </div>
                                    </div>
                                    <div class="item-desc-area">
                                        <div class="item-price">
                                            <h3 class="item-price-proper">$100</h3>
                                        </div>
                                        <div class="item-desc">
                                            <p class="item-desc-proper">
                                                Giving an animal is like giving someone a small business. Animal donations can provide families a hand up, increasing access to medicine, school, food and a sustainable livelihood.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="lower-part">
                                    <button type="button" class="add-item-button" onclick="createSummaryFromId('item-3')">Add Item</button>
                                </div>
                            </div>
                        </div><!--end item 3-->

                         <!--item 4-->
                         <div class="item-container" designation-id="b20c38e5-3df1-4138-8e85-f8a3ca48b8d7" desc="Grain" id="item-4" price="10">
                            <div class="item-g-1">
                                <div class="top-part">
                                    <div class="item-image-area">
                                        <div class="item-image">
                                            <img src="img/quinoa.png" class="item-image-proper">
                                            <h3>Grain</h3>
                                        </div>
                                    </div>
                                    <div class="item-desc-area">
                                        <div class="item-price">
                                            <h3 class="item-price-proper">$10</h3>
                                        </div>
                                        <div class="item-desc">
                                            <p class="item-desc-proper">
                                                A donation of grain will help feed a family in need.  When you give a gift of grain, you are giving the ability to sustainably grow food for an entire community.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="lower-part">
                                    <button type="button" class="add-item-button" onclick="createSummaryFromId('item-4')">Add Item</button>
                                </div>
                            </div>
                        </div><!--end item 4-->
                    </div>
                    <div class="summary-area">
                        <div class="item-legend">
                        <div class="item-legend-quantity">Qty.</div>
                            <div class="item-legend-desc">Item Name</div>
                            <div class="item-legend-price">Price</div>
                            <div class="item-legend-remove"></div>
                        </div>
                        <div class="item-summary">
                            <!-- checkout items-->
                            <!-- <div class="checkout-item-container">
                                <div class="item-checkout-summary">
                                    <div class="item-quantity">Item Quantity</div>
                                    <div class="item-checkout-desc">Description</div>
                                    <div class="item-checkout-amt">Dollar Amt.</div>
                                    <div class="item-checkout-delete">Delete</div>
                                </div>
                            </div>-->
                        </div>
                        <div class="interface-area">
                            <!-- Interface Area -->
                            <div class="dpf-area">
                                <div class="dpf-tag">
                                    <p class="dpf-tag-desc">
                                        Yes, I will volunteer to cover the transaction fees.
                                    </p>
                                </div>
                                <div class="dpf-checkbox">
                                    <input type="checkbox" id="dpf-checkbox-element">
                                </div>
                            </div>
                            <div class="total-area">
                                <div class="total-tag">
                                    <p class="dollar-sign"><strong>TOTAL</strong></p>
                                    <p class="dollar-sign">$</p>
                                </div>
                                <div class="total-amt">
                                    <div id="total-text">
                                        0
                                    </div>
                                </div>
                            </div>
                            <div class="checkout-area">
                                <button type="button" id="checkout-button" class="checkout-button-inactive" onclick = "checkoutHandler()">Checkout</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--FORM-->
            <div class="form-area">
                <div class="checkout-nav-bar">
                    <div id="checkout-header"><h2 class="checkout-header">Checkout</h2></div>
                    <div id="checkout-close">
                        <button type="button" onclick="closeCheckout()">X</button>
                    </div>
                </div>
                <form id="form-data">
                    <div class="form-section">
                        <!--CONTACT-->
                        <h2 class="section-header">Contact Information</h2>
                        <div id="new-billing-contact">
                            <div class="new-form-item">
                                <label for="billingContact-firstName">First Name</label>
                                <input type="text" name="billingContact-firstName" class="required-field" id="billingContact-firstName" value="" placeholder="First Name"/>
                            </div>
    
                            <div class="new-form-item">
                                <label for="billingContact-lastName">Last Name</label>
                                <input type="text" name="billingContact-lastName" class="required-field" id="billingContact-lastName" value="" placeholder="Last Name"/>
                            </div>
    
                            <div class="new-form-item">
                                <label for="billingContact-email">Email</label>
                                <input type="text" name="billingContact-email" class="required-field" id="billingContact-email" value="norjon@aol.com" placeholder="Email"/>
                            </div>
    
                            <div class="new-form-item">
                                <label for="billingAddress-address1">Street Address</label>
                                <input type="text" name="billingAddress-address1" class="required-field" id="billingAddress-address1" value="1 Fakery Way" placeholder="Address"/>
                            </div>
    
                            <div class="new-form-item">
                                <label for="billingAddress-city">City</label>
                                <input type="text" name="billingAddress-city" class="required-field" id="billingAddress-city" value="Palo Alto" placeholder="City"/>
                            </div>
    
                            <!--dropdown: state-->
                            <div class="new-form-item">
                                <label for="billingAddress-state">State</label>
                                <!-- <input type="text" name="billingAddress-state" id="billingAddress-state" value="CA"/> --><!--use this for the international one-->
                                <select id="billingAddress-state" name="billingAddress-state">
                                    <!-- <option value="null">-Select a State-</option> -->
                                    <option value="AL">Alabama</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="CT">Connecticut</option>
                                    <option value="DE">Delaware</option>
                                    <option value="DC">District Of Columbia</option>
                                    <option value="FL">Florida</option>
                                    <option value="GA">Georgia</option>
                                    <option value="HI">Hawaii</option>
                                    <option value="ID">Idaho</option>
                                    <option value="IL">Illinois</option>
                                    <option value="IN">Indiana</option>
                                    <option value="IA">Iowa</option>
                                    <option value="KS">Kansas</option>
                                    <option value="KY">Kentucky</option>
                                    <option value="LA">Louisiana</option>
                                    <option value="ME">Maine</option>
                                    <option value="MD">Maryland</option>
                                    <option value="MA">Massachusetts</option>
                                    <option value="MI">Michigan</option>
                                    <option value="MN">Minnesota</option>
                                    <option value="MS">Mississippi</option>
                                    <option value="MO">Missouri</option>
                                    <option value="MT">Montana</option>
                                    <option value="NE">Nebraska</option>
                                    <option value="NV">Nevada</option>
                                    <option value="NH">New Hampshire</option>
                                    <option value="NJ">New Jersey</option>
                                    <option value="NM">New Mexico</option>
                                    <option value="NY">New York</option>
                                    <option value="NC">North Carolina</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="OH">Ohio</option>
                                    <option value="OK">Oklahoma</option>
                                    <option value="OR">Oregon</option>
                                    <option value="PA">Pennsylvania</option>
                                    <option value="RI">Rhode Island</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="SD">South Dakota</option>
                                    <option value="TN">Tennessee</option>
                                    <option value="TX">Texas</option>
                                    <option value="UT">Utah</option>
                                    <option value="VT">Vermont</option>
                                    <option value="VA">Virginia</option>
                                    <option value="WA">Washington</option>
                                    <option value="WV">West Virginia</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WY">Wyoming</option>
                                </select>
                            </div>
    
                            <div class="new-form-item">
                                <label for="billingAddress-zip">ZIP</label>
                                <input type="text" name="billingAddress-zip" class="required-field" id="billingAddress-zip" value="90210" placeholder="ZIP Code"/>
                            </div>
    
                            <div class="new-form-item">
                                <label for="billingAddress-country">Country</label>
                                <input type="text" name="billingAddress-country" class="required-field" id="billingAddress-country" value="US" placeholder="Country"/>
                            </div>
    
                            <div class="new-form-item">
                                <label for="billingContact-primaryPhone">Primary Phone</label>
                                <input type="text" name="billingContact-primaryPhone" class="required-field" id="billingContact-primaryPhone" value="2145551212" placeholder="111-222-3333"/>
                            </div> 
                        </div>
                        <!--CARD-->
                        <div class="form-section">
                            <h2 class="section-header">Card Information</h2>
                            <div id="new-payment">
                                <div class="new-form-item">
                                    <label for="cardData-cardNumber">Card No.</label>
                                    <input type="text" name="cardData-cardNumber" class="required-field" id="cardData-cardNumber" value="5555555555554444" placeholder="Card No."/>
                                </div>
                                <div class="new-form-item">
                                    <label for="cardData-expirationMonth">Expiration Month</label>
                                    <!-- <input type="text" name="cardData-expirationMonth" id="cardData-expirationMonth" value="01"/> -->
                                    <select name="cardData-expirationMonth" id="cardData-expirationMonth">
                                        <!-- <option val="null">-Month-</option> -->
                                        <option value="01">01 - January</option>
                                        <option value="02">02 - February</option>
                                        <option value="03">03 - March</option>
                                        <option value="04">04 - April</option>
                                        <option value="05">05 - May</option>
                                        <option value="06">06 - June</option>
                                        <option value="07">07 - July</option>
                                        <option value="08">08 - August</option>
                                        <option value="09">09 - September</option>
                                        <option value="10">10 - October</option>
                                        <option value="11">11 - November</option>
                                        <option value="12">12 - December</option>
                                    </select>
                                </div>
                                <div class="new-form-item">
                                    <label for="cardData-expirationYear">Expiration Year</label>
                                    <!-- <input type="text" name="cardData-expirationYear" id="cardData-expirationYear" value="2023"/> -->
                                    <select name="cardData-expirationYear" id="cardData-ExpirationYear">
                                        <!-- <option val="null">-Exp. Year-</option> -->
                                        <!-- <option val="2021">2021</option> --> <!--Omitted for demo purposes-->
                                        <option val="2022">2022</option>
                                        <option val="2023">2023</option>
                                        <option val="2024">2024</option>
                                        <option val="2025">2025</option>
                                        <option val="2026">2026</option>
                                        <option val="2027">2027</option>
                                        <option val="2028">2028</option>
                                        <option val="2029">2029</option>
                                        <option val="2030">2030</option>
                                        <option val="2031">2031</option>
                                    </select>
                                </div>
                            </div>
                            <!--END CARD-->
                        </div>
                        <!--END BILLING INFORMATION SECTION-->
                    </div>
                    <div class="button-section">
                        <button type="submit" id="the-button" class="donation-button-inactive">Give Now</button>
                    </div>
                </form>
            </div>
            <!--RECEIPT-->
            <div class="receipt-area">
                <div id="receipt-header">
                    <h2>Thank you for your generosity.</h2>
                </div>
                <div id="receiptthank-you-message">
                    <p>Your gift will make a real difference in the world.</p>
                </div>
                <div id="receipt-detail-header">
                    <h3>Transaction Details</h3>
                </div>
                <div id="receipt-name" class="receipt-item">
                    <p><strong>Donor: </strong><span id="receipt-name-text"></span></p>
                </div>
                <div id="receipt-date" class="receipt-item">
                    <p><strong>Date of Gift: </strong><span id="receipt-date-text"></span></p>
                </div>
                <div id="receipt-gift-amount" class="receipt-item">
                    <p><strong>Gift Amount: </strong><span id="receipt-gift-text"></span></p>
                </div>
                <div id="receipt-transaction-id" class="receipt-item">
                    <p><strong>Transaction ID: </strong><span id="receipt-transactionID-text"></span></p>
                </div>
                <div id="receipt-truncated-card" class="receipt-item">
                    <p><strong>Card Used: </strong><span id="receipt-card-text"></span></p>
                </div>
            </div>
        </div>
    </body>
</html>